:root{
  --primary:#14B866;
  --dark:#155E4B;         /* verde profundo */
  --dark-2:#0F493A;       /* verde más oscuro (degradado) */
  --accent:#FF7A00;
  --cream:#FFF4E8;
  --slate:#1F2937;

  --sb-open: 40rem;
  --radius: 22px;
  --shadow: 0 20px 60px rgba(0,0,0,.10);
  --inner-shadow: 0 1px 0 rgba(255,255,255,.15) inset;

  --item-icon: 28px;
  --item-gap: 10px;

  /* Superficie del contenido (también usada por el pill activo) */
  --surface:#ffffff;
}

/* Tema oscuro mapea superficie */
.alt-theme{ --surface:#0e1713; }

*{ box-sizing:border-box; }
html, body, #root{ height:100%; }

/* Fondo global: degradado verde */
html{
  background: linear-gradient(180deg, var(--dark), var(--dark-2));
}

/* Sin scroll global: el scroll vive en .admin-content */
body{
  margin:0;
  background: transparent;
  font-family:'Poppins',system-ui,sans-serif;
  color:var(--slate);
  overflow: hidden;
}

/* Bloqueo de scroll cuando el drawer está abierto */
.drawer-open body{ overflow: hidden; }

/* ===== Layout contenedor ===== */
.admin-container{
  height: 100dvh;
  background: transparent;
  display: grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto 1fr;
  grid-template-areas:
    "sidebar content"
    "sidebar content";
  gap: 10px;
  padding: 10px;
}

/* ===== Sidebar (sin scroll, footer visible) ===== */
.sidebar{
  grid-area: sidebar;
  position: sticky;             /* fija dentro del flujo */
  top: 10px;
  height: calc(100dvh - 20px);  /* ajusta al padd/gap del grid */
  width: var(--sb-open);
  background: linear-gradient(180deg, var(--dark), var(--dark-2));
  color:#EAF7F1;
  display:flex; flex-direction:column;
  overflow: hidden;             /* sin scroll en la barra */
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.12);
  z-index: 2;
}

.sb-header{ position:relative; padding:14px 12px 8px; }
.brand{
  display:grid; place-items:center; height:120px;
  border-bottom:1px solid rgba(255,255,255,.15);
}
.brand img{ max-width:14rem; height:auto; }

.menu-btn{
  display:none;
  position:absolute; top:.6rem; right:.6rem;
  width:2.2rem; height:2.2rem; border-radius:50%;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(255,255,255,.12); box-shadow:0 6px 18px rgba(0,0,0,.18);
  color:#fff; font-size:18px;
}

/* ===== Menú ===== */
.menu-container{
  flex:1 0 auto;               /* ocupa el espacio disponible */
  padding: 20px 12px;
  overflow: hidden;            /* NO scrollea (como pediste) */
}
.menu{
  list-style:none; margin:0; padding:0;
  display:flex; flex-direction:column; gap: var(--item-gap);
}

/* Ítems tipo pill (limpio, sin “mordida”) */
.menu-link{
  position:relative;
  display:flex; align-items:center; gap:.9rem;

  width: 100%;                 /* no sobresale */
  margin-right: 0;

  padding:12px 14px 12px 52px;
  border-radius:16px;
  color:#EAF7F1;
  text-decoration:none;
  transition:transform .08s ease, background .25s, color .25s, box-shadow .25s;
  font-size:.98rem; font-weight:600;
  min-height:54px; will-change: transform;
}
.menu-link:hover{
  background: rgba(255,255,255,.08);
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(0,0,0,.12);
}
.menu-link img{
  position:absolute; left:12px;
  width: var(--item-icon); height: var(--item-icon);
  padding:6px; border-radius:12px;
  background: rgba(255,255,255,.14);
  box-shadow: var(--inner-shadow);
  object-fit:contain;
}

/* Activo (tema claro por defecto) */
.menu-link.active{
  background: var(--surface);
  color: var(--dark);
  box-shadow: 0 10px 30px rgba(0,0,0,.10);
  z-index: 1;
}
.menu-link.active img{
  background:#F3FAF6;
  box-shadow: inset 0 0 0 1px rgba(21,94,75,.08);
}
/* sin mordida/círculo */
.menu-link.active::after,
.menu-link.active::before{ content:none; }

/* ===== Footer del sidebar: siempre visible ===== */
.sb-footer{
  margin-top: auto;            /* empuja al fondo */
  border-top:1px solid rgba(255,255,255,.15);
  padding:10px 12px 14px;
  background: transparent;
}
.footer-actions{
  display:flex; gap:10px;
  flex-direction:column;
}
.theme-button,
.logout-button{
  flex:1;
  display:flex; align-items:center; justify-content:center; gap:8px;
  height:42px; border-radius:14px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(255,255,255,.12);
  color:#fff; cursor:pointer;
  font-weight:600;
}
.theme-button i, .logout-button i{ font-size:1.2rem; }
.theme-button:hover, .logout-button:hover{
  background:#fff; color:var(--dark); border-color:#fff;
}

/* ===== Área de contenido (con scroll propio) ===== */
.admin-content{
  grid-area: content;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow: auto;               /* <— aquí vive el scroll */
  -webkit-overflow-scrolling: touch;
}

/* Userbar fijo en el tope del área scrolleable */
.userbar{
  position: sticky;
  top: 0;
  z-index: 5;
  display:flex; align-items:center; justify-content:space-between;
  background: rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.25);
  backdrop-filter: blur(6px);
  color:#fff;
  padding:10px 14px;
  border-radius: 16px;
}
.userbar .user-chip{ display:flex; align-items:center; gap:10px; }
.userbar .user-chip img{
  width:38px; height:38px; border-radius:50%; object-fit:cover;
  box-shadow:0 4px 10px rgba(0,0,0,.18);
}
.userbar .meta{ display:flex; flex-direction:column; line-height:1.1; }
.userbar .meta strong{ font-size:.95rem; }
.userbar .meta small{ opacity:.9; color:#EAF7F1; }
.userbar .actions .icon-btn{
  width:40px; height:40px; border-radius:12px;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(255,255,255,.12);
  color:#fff; cursor:pointer;
}

/* Tarjeta blanca que contiene el <Outlet /> */
.content-card{
  background: var(--surface);
  color: var(--slate);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 24px clamp(16px,3vw,40px);
  min-height: calc(100dvh - 120px);
  overflow-x: hidden;
  border: 1px solid rgba(0,0,0,.04);
}

/* ===== Tema oscuro ===== */
.alt-theme .content-card{
  background: var(--surface);
  color: #e6f4ef;
  border-color: rgba(255,255,255,.06);
}
.alt-theme .userbar{
  background: rgba(0,0,0,.28);
  border-color: rgba(255,255,255,.18);
}
.alt-theme .menu-link.active{
  background: var(--surface);
  color:#e6f4ef;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}
.alt-theme .menu-link.active img{
  background: rgba(255,255,255,.08);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}

/* ===== Backdrop (drawer móvil) ===== */
.backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.25);
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease;
  z-index: 3;
}
.backdrop.show{
  opacity: 1;
  pointer-events: auto;
}

/* ===== Botón hamburguesa ===== */
.mobile-trigger{
  position: fixed;
  left: 16px; top: 16px;
  width:42px; height:42px; border-radius:50%;
  border:1px solid rgba(255,255,255,.35); background:rgba(255,255,255,.16);
  display:none; align-items:center; justify-content:center;
  box-shadow:0 8px 24px rgba(0,0,0,.22);
  z-index: 4; cursor:pointer;
  color:#fff; font-size:22px;
  backdrop-filter: blur(6px);
}

/* ===== Responsive / Drawer behavior ===== */
@media (max-width: 1100px){
  .admin-container{
    grid-template-columns: 1fr;
    grid-template-areas:
      "content"
      "content";
  }

  /* Sidebar como off-canvas, sin scroll propio */
  .sidebar{
    position: fixed;
    top: 0; bottom: 0; left: 0;
    height: 100dvh;
    width: min(90vw, var(--sb-open));
    max-width: var(--sb-open);
    transform: translateX(-100%);
    transition: transform .28s ease;
    border-radius: 0 20px 20px 0;
    overflow: hidden;          /* sin scroll en la barra móvil */
  }
  .sidebar.open{ transform: translateX(0); }

  /* Botón hamburguesa visible */
  .mobile-trigger{ display:flex; }

  /* El contenido mantiene el scroll */
  .admin-content{
    grid-area: content;
    padding-top: 74px;         /* despeje del botón si lo usas */
    overflow: auto;
  }
}
@media (max-width: 720px){
  .userbar{
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }
  .userbar .actions{
    display:flex; justify-content:flex-end;
  }
  .content-card{
    min-height: auto;
  }
}
